var SCC_DEBUG=!1;!function(a,b,c,d){function g(b,c){this.element=b,this.options=a.extend({},f,c),this._defaults=f,this._name=e,this.init()}function h(){return!!("ontouchstart"in b)}function j(){var a=c.body||c.documentElement,b=a.style,d="transition";if("string"==typeof b[d])return!0;v=["Moz","Webkit","Khtml","O","ms"],d=d.charAt(0).toUpperCase()+d.substr(1);for(var e=0;e<v.length;e++)if("string"==typeof b[v[e]+d])return!0;return!1}var e="tooltipster",f={animation:"fade",arrow:!0,arrowColor:"",content:"",delay:200,fixedWidth:0,maxWidth:0,functionInit:function(){},functionBefore:function(a,b){b()},functionReady:function(){},functionAfter:function(){},icon:"(?)",iconDesktop:!1,iconTouch:!1,iconTheme:".tooltipster-icon",interactive:!1,interactiveTolerance:350,interactiveAutoClose:!0,offsetX:0,offsetY:0,onlyOne:!0,position:"top",speed:350,timer:0,theme:".tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0},k=!0;j()||(k=!1);var l=h();a(b).on("mousemove.tooltipster",function(){l=!1,a(b).off("mousemove.tooltipster")}),g.prototype={init:function(){var b=a(this.element),e=this,f=!0;if(!e.options.touchDevices&&l&&(f=!1),c.all&&!c.querySelector&&(f=!1),f){var g=a.trim(e.options.content).length>0?e.options.content:b.attr("title"),h=e.options.functionInit(b,g);if(h&&(g=h),b.data("tooltipsterContent",g),b.removeAttr("title"),e.options.iconDesktop&&!l||e.options.iconTouch&&l){var i=e.options.iconTheme,j=a('<span class="'+i.replace(".","")+'"></span>');j.data("tooltipsterContent",g).append(e.options.icon).insertAfter(b),b.data("tooltipsterIcon",j),b=j}e.options.touchDevices&&l&&("click"==e.options.trigger||"hover"==e.options.trigger)?b.on("touchstart.tooltipster",function(){e.showTooltip()}):("hover"==e.options.trigger&&(b.on("mouseenter.tooltipster",function(){e.showTooltip()}),e.options.interactive?b.on("mouseleave.tooltipster",function(){var c=b.data("tooltipster"),f=!1;c!==d&&""!==c?(c.mouseenter(function(){f=!0}),c.mouseleave(function(){f=!1}),setTimeout(function(){f?e.options.interactiveAutoClose&&(c.find("select").on("change",function(){e.hideTooltip()}),c.mouseleave(function(b){var c=a(b.target);0===c.parents(".tooltipster-base").length||c.hasClass("tooltipster-base")?e.hideTooltip():c.on("mouseleave",function(){e.hideTooltip()})})):e.hideTooltip()},e.options.interactiveTolerance)):e.hideTooltip()}):b.on("mouseleave.tooltipster",function(){e.hideTooltip()})),"click"==e.options.trigger&&b.on("click.tooltipster",function(){""===b.data("tooltipster")||b.data("tooltipster")===d?e.showTooltip():e.hideTooltip()}))}},showTooltip:function(){var c=a(this.element),e=this;c.data("tooltipsterIcon")!==d&&(c=c.data("tooltipsterIcon")),c.hasClass("tooltipster-disable")||(a(".tooltipster-base").not(".tooltipster-dying").length>0&&e.options.onlyOne&&a(".tooltipster-base").not(".tooltipster-dying").not(c.data("tooltipster")).each(function(){a(this).addClass("tooltipster-kill");var b=a(this).data("origin");b.data("plugin_tooltipster").hideTooltip()}),c.clearQueue().delay(e.options.delay).queue(function(){e.options.functionBefore(c,function(){if(c.data("tooltipster")!==d&&""!==c.data("tooltipster")){var b=c.data("tooltipster");if(!b.hasClass("tooltipster-kill")){var f="tooltipster-"+e.options.animation;if(b.removeClass("tooltipster-dying"),k&&b.clearQueue().addClass(f+"-show"),e.options.timer>0){var g=b.data("tooltipsterTimer");clearTimeout(g),g=setTimeout(function(){b.data("tooltipsterTimer",d),e.hideTooltip()},e.options.timer),b.data("tooltipsterTimer",g)}e.options.touchDevices&&l&&a("body").bind("touchstart",function(b){if(e.options.interactive){var c=a(b.target),d=!0;c.parents().each(function(){a(this).hasClass("tooltipster-base")&&(d=!1)}),d&&(e.hideTooltip(),a("body").unbind("touchstart"))}else e.hideTooltip(),a("body").unbind("touchstart")})}}else{e.options._bodyOverflowX=a("body").css("overflow-x"),a("body").css("overflow-x","hidden");var h=e.getContent(c),i=e.options.theme,m=i.replace(".",""),f="tooltipster-"+e.options.animation,n="-webkit-transition-duration: "+e.options.speed+"ms; -webkit-animation-duration: "+e.options.speed+"ms; -moz-transition-duration: "+e.options.speed+"ms; -moz-animation-duration: "+e.options.speed+"ms; -o-transition-duration: "+e.options.speed+"ms; -o-animation-duration: "+e.options.speed+"ms; -ms-transition-duration: "+e.options.speed+"ms; -ms-animation-duration: "+e.options.speed+"ms; transition-duration: "+e.options.speed+"ms; animation-duration: "+e.options.speed+"ms;",o=e.options.fixedWidth>0?"width:"+Math.round(e.options.fixedWidth)+"px;":"",p=e.options.maxWidth>0?"max-width:"+Math.round(e.options.maxWidth)+"px;":"",q=e.options.interactive?"pointer-events: auto;":"",b=a('<div class="tooltipster-base '+m+" "+f+'" style="'+o+" "+p+" "+q+" "+n+'"></div>'),r=a('<div class="tooltipster-content"></div>');r.html(h),b.append(r),b.appendTo("body"),c.data("tooltipster",b),b.data("origin",c),e.positionTooltip(),e.options.functionReady(c,b),k?b.addClass(f+"-show"):b.css("display","none").removeClass(f).fadeIn(e.options.speed);var s=h,t=setInterval(function(){var d=e.getContent(c);0===a("body").find(c).length?(b.addClass("tooltipster-dying"),e.hideTooltip()):s!==d&&""!==d&&(s=d,b.find(".tooltipster-content").html(d),e.options.updateAnimation&&(j()?(b.css({width:"","-webkit-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){b.removeClass("tooltipster-content-changing"),setTimeout(function(){b.css({"-webkit-transition":e.options.speed+"ms","-moz-transition":e.options.speed+"ms","-o-transition":e.options.speed+"ms","-ms-transition":e.options.speed+"ms",transition:e.options.speed+"ms"})},e.options.speed)},e.options.speed)):b.fadeTo(e.options.speed,.5,function(){b.fadeTo(e.options.speed,1)})),e.positionTooltip()),(0===a("body").find(b).length||0===a("body").find(c).length)&&clearInterval(t)},200);if(e.options.timer>0){var g=setTimeout(function(){b.data("tooltipsterTimer",d),e.hideTooltip()},e.options.timer+e.options.speed);b.data("tooltipsterTimer",g)}e.options.touchDevices&&l&&a("body").bind("touchstart",function(b){if(e.options.interactive){var c=a(b.target),d=!0;c.parents().each(function(){a(this).hasClass("tooltipster-base")&&(d=!1)}),d&&(e.hideTooltip(),a("body").unbind("touchstart"))}else e.hideTooltip(),a("body").unbind("touchstart")})}}),c.dequeue()}))},hideTooltip:function(){var c=a(this.element),e=this;c.data("tooltipsterIcon")!==d&&(c=c.data("tooltipsterIcon"));var f=c.data("tooltipster");if(f===d&&(f=a(".tooltipster-dying")),c.clearQueue(),f!==d&&""!==f){var g=f.data("tooltipsterTimer");g!==d&&clearTimeout(g);var h="tooltipster-"+e.options.animation;k?f.clearQueue().removeClass(h+"-show").addClass("tooltipster-dying").delay(e.options.speed).queue(function(){f.remove(),c.data("tooltipster",""),a("body").css("overflow-x",e.options._bodyOverflowX),e.options.functionAfter(c)}):f.clearQueue().addClass("tooltipster-dying").fadeOut(e.options.speed,function(){f.remove(),c.data("tooltipster",""),a("body").css("overflow-x",e.options._bodyOverflowX),e.options.functionAfter(c)})}},positionTooltip:function(){function R(){var c=a(b).scrollLeft();if(0>L-c){var d=L-c;L=c,g.data("arrow-reposition",d)}if(L+l-c>h){var d=L-(h+c-l);L=h+c-l,g.data("arrow-reposition",d)}}function S(c,d){p-a(b).scrollTop()-n-O-12<0&&d.indexOf("top")>-1&&(f.options.position=c,r=d),p+k+n+12+O>a(b).scrollTop()+a(b).height()&&d.indexOf("bottom")>-1&&(f.options.position=c,r=d,N=p-n-O-12)}var e=a(this.element),f=this;if(e.data("tooltipsterIcon")!==d&&(e=e.data("tooltipsterIcon")),e.data("tooltipster")!==d&&""!==e.data("tooltipster")){var g=e.data("tooltipster");g.css("width","");var h=a(b).width(),j=e.outerWidth(!1),k=e.outerHeight(!1),l=g.outerWidth(!1),m=g.innerWidth()+1,n=g.outerHeight(!1),o=e.offset(),p=o.top,q=o.left,r=d;if(e.is("area")){var s=e.attr("shape"),t=e.parent().attr("name"),u=a('img[usemap="#'+t+'"]'),v=u.offset().left,w=u.offset().top,x=e.attr("coords")!==d?e.attr("coords").split(","):d;if("circle"==s){var y=parseInt(x[0]),z=parseInt(x[1]),A=parseInt(x[2]);k=2*A,j=2*A,p=w+z-A,q=v+y-A}else if("rect"==s){var y=parseInt(x[0]),z=parseInt(x[1]),B=parseInt(x[2]),C=parseInt(x[3]);k=C-z,j=B-y,p=w+z,q=v+y}else if("poly"==s){var F=0,G=0,H=0,I=0,J="even";for(i=0;i<x.length;i++){var K=parseInt(x[i]);"even"==J?(K>H&&(H=K,0===i&&(F=H)),F>K&&(F=K),J="odd"):(K>I&&(I=K,1==i&&(G=I)),G>K&&(G=K),J="even")}k=I-G,j=H-F,p=w+G,q=v+F}else k=u.outerHeight(!1),j=u.outerWidth(!1),p=w,q=v}0===f.options.fixedWidth&&g.css({width:Math.round(m)+"px","padding-left":"0px","padding-right":"0px"});var L=0,M=0,N=0,O=parseInt(f.options.offsetY),P=parseInt(f.options.offsetX),Q="";if("top"==f.options.position){var T=q+l-(q+j);L=q+P-T/2,N=p-n-O-12,R(),S("bottom","top")}if("top-left"==f.options.position&&(L=q+P,N=p-n-O-12,R(),S("bottom-left","top-left")),"top-right"==f.options.position&&(L=q+j+P-l,N=p-n-O-12,R(),S("bottom-right","top-right")),"bottom"==f.options.position){var T=q+l-(q+j);L=q-T/2+P,N=p+k+O+12,R(),S("top","bottom")}if("bottom-left"==f.options.position&&(L=q+P,N=p+k+O+12,R(),S("top-left","bottom-left")),"bottom-right"==f.options.position&&(L=q+j+P-l,N=p+k+O+12,R(),S("top-right","bottom-right")),"left"==f.options.position){L=q-P-l-12,M=q+P+j+12;var U=p+n-(p+e.outerHeight(!1));if(N=p-U/2-O,0>L&&M+l>h){var V=2*parseFloat(g.css("border-width")),W=l+L-V;g.css("width",W+"px"),n=g.outerHeight(!1),L=q-P-W-12-V,U=p+n-(p+e.outerHeight(!1)),N=p-U/2-O}else 0>L&&(L=q+P+j+12,g.data("arrow-reposition","left"))}if("right"==f.options.position){L=q+P+j+12,M=q-P-l-12;var U=p+n-(p+e.outerHeight(!1));if(N=p-U/2-O,L+l>h&&0>M){var V=2*parseFloat(g.css("border-width")),W=h-L-V;g.css("width",W+"px"),n=g.outerHeight(!1),U=p+n-(p+e.outerHeight(!1)),N=p-U/2-O}else L+l>h&&(L=q-P-l-12,g.data("arrow-reposition","right"))}if(f.options.arrow){var X="tooltipster-arrow-"+f.options.position;if(f.options.arrowColor.length<1)var Y=g.css("background-color");else var Y=f.options.arrowColor;var Z=g.data("arrow-reposition");if(Z?"left"==Z?(X="tooltipster-arrow-right",Z=""):"right"==Z?(X="tooltipster-arrow-left",Z=""):Z="left:"+Math.round(Z)+"px;":Z="","top"==f.options.position||"top-left"==f.options.position||"top-right"==f.options.position)var $=parseFloat(g.css("border-bottom-width")),_=g.css("border-bottom-color");else if("bottom"==f.options.position||"bottom-left"==f.options.position||"bottom-right"==f.options.position)var $=parseFloat(g.css("border-top-width")),_=g.css("border-top-color");else if("left"==f.options.position)var $=parseFloat(g.css("border-right-width")),_=g.css("border-right-color");else if("right"==f.options.position)var $=parseFloat(g.css("border-left-width")),_=g.css("border-left-color");else var $=parseFloat(g.css("border-bottom-width")),_=g.css("border-bottom-color");$>1&&$++;var ab="";if(0!==$){var bb="",cb="border-color: "+_+";";-1!==X.indexOf("bottom")?bb="margin-top: -"+Math.round($)+"px;":-1!==X.indexOf("top")?bb="margin-bottom: -"+Math.round($)+"px;":-1!==X.indexOf("left")?bb="margin-right: -"+Math.round($)+"px;":-1!==X.indexOf("right")&&(bb="margin-left: -"+Math.round($)+"px;"),ab='<span class="tooltipster-arrow-border" style="'+bb+" "+cb+';"></span>'}g.find(".tooltipster-arrow").remove(),Q='<div class="'+X+' tooltipster-arrow" style="'+Z+'">'+ab+'<span style="border-color:'+Y+';"></span></div>',g.append(Q)}g.css({top:Math.round(N)+"px",left:Math.round(L)+"px"}),r!==d&&(f.options.position=r)}},getContent:function(b){var c=b.data("tooltipsterContent");return c=a(a.parseHTML("<div>"+c+"</div>")).html()}},a.fn[e]=function(b){if(!b||"setDefaults"!==b){if("string"==typeof b){var c=this,h=arguments[1],i=null;if(c.data("plugin_tooltipster")===d){var j=c.find("*");c=a(),j.each(function(){a(this).data("plugin_tooltipster")!==d&&c.push(a(this))})}return c.each(function(){switch(b.toLowerCase()){case"show":a(this).data("plugin_tooltipster").showTooltip();break;case"hide":a(this).data("plugin_tooltipster").hideTooltip();break;case"disable":a(this).addClass("tooltipster-disable");break;case"enable":a(this).removeClass("tooltipster-disable");break;case"destroy":a(this).data("plugin_tooltipster").hideTooltip();var e=a(this).data("tooltipsterIcon");e&&e.remove(),a(this).attr("title",c.data("tooltipsterContent")).removeData("plugin_tooltipster").removeData("tooltipsterContent").removeData("tooltipsterIcon").off(".tooltipster");break;case"elementicon":return i=a(this).data("tooltipsterIcon"),i=i?i[0]:d,!1;case"update":var f=h;if(a(this).data("tooltipsterIcon")===d)a(this).data("tooltipsterContent",f);else{var g=a(this).data("tooltipsterIcon");g.data("tooltipsterContent",f)}break;case"reposition":a(this).data("plugin_tooltipster").positionTooltip();break;case"val":return i=a(this).data("tooltipsterContent"),console.log(i),!1}}),null!==i?i:this}return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new g(this,b))})}a.extend(f,arguments[1])},l&&b.addEventListener("orientationchange",function(){a(".tooltipster-base").length>0&&a(".tooltipster-base").each(function(){var b=a(this).data("origin");b.data("plugin_tooltipster").hideTooltip()})},!1),a(b).on("scroll.tooltipster",function(){var b=a(".tooltipster-base").data("origin");b&&b.tooltipster("reposition")}),a(b).on("resize.tooltipster",function(){var b=a(".tooltipster-base").data("origin");null!==b&&b!==d&&b.tooltipster("reposition")})}(jQuery,window,document),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function c(a){return h.raw?a:encodeURIComponent(a)}function d(a){return h.raw?a:decodeURIComponent(a)}function e(a){return c(h.json?JSON.stringify(a):String(a))}function f(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{a=decodeURIComponent(a.replace(b," "))}catch(c){return}try{return h.json?JSON.parse(a):a}catch(c){}}function g(b,c){var d=h.raw?b:f(b);return a.isFunction(c)?c(d):d}var b=/\+/g,h=a.cookie=function(b,f,i){if(void 0!==f&&!a.isFunction(f)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setDate(k.getDate()+j)}return document.cookie=[c(b),"=",e(f),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=b?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=d(p.shift()),r=p.join("=");if(b&&b===q){l=g(r,f);break}b||void 0===(r=g(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0!==a.cookie(b)?(a.cookie(b,"",a.extend({},c,{expires:-1})),!0):!1}}),function(){function d(a,b,d,e){jQuery(b).tooltipster({animation:e.tooltipAnimation,offsetX:e.offSetX,offsetY:e.offsetY,arrow:d.showTooltipArrow,trigger:"hover",delay:d.tooltipShowDelay,content:a,interactiveAutoClose:!1,speed:e.animationDuration,theme:".tooltipster-"+e.tooltipTheme,position:e.tooltipPosition,interactive:!0,functionReady:c}),d.enableByClick&&(jQuery(b).on("click",function(a){a.preventDefault(),a.stopPropagation()}),document.scc_document_event_attached||(jQuery("html").on("click",function(a){SCC_DEBUG&&console.log("click reached document root"),jQuery("body").tooltipster("hide"),a.stopPropagation()}),document.scc_document_event_attached=!0))}function e(a,b,c,d){var e=[];return jQuery.each(c,function(c,f){var g=!1,h="scc_"+b+f,i=parseFloat(localStorage[h]);if(1>i&&(h="scc_"+f+b,i=parseFloat(localStorage[h]),g=!0),g){var j=(a/i).formatMoney(d.decimalPrecision,d.thousandSeperator,d.decimalSeperator);SCC_DEBUG&&console.log("CONVERT: "+b+f+" "+a+" / "+i+" -> "+j)}else{var j=(a*i).formatMoney(d.decimalPrecision,d.thousandSeperator,d.decimalSeperator);SCC_DEBUG&&console.log("CONVERT: "+b+f+" "+a+" * "+i+" -> "+j)}var k={currencyLabel:f,price:j};e.push(k)}),e}function f(a){return a.replace(/,/g,".").replace(/[^\d\.]/g,"")}function g(a,b,c){a.each(function(a,g){var h=jQuery(g).html().replace(b.thousandSeperator,"").replace(" ","").replace(",","");if(SCC_DEBUG&&console.log("before strip: "+h),h=f(h),SCC_DEBUG&&console.log("Filtered amount: "+h),isNaN(h))console.log('"'+h+'" is not a number. Please pass the selector of a component which contains only a number.');else{var i=parseFloat(h),j=e(i,c[a].baseCurrency,c[a].validTargets,b);if(0!==j.length)if(c[a].replaceOriginalPrice){var k=b.replacedContentFormat;k=k.replace("[convertedCurrencyCode]",j[0].currencyLabel),k=k.replace("[convertedAmount]",j[0].price),k=k.replace("[originalPrice]",jQuery(g).html()),jQuery(g).html(k),b.showConfigPop&&(k=" <img title='Click to change currency' class='scc_settings_icon' src='"+b.gearUrl+"'>",jQuery(g).after(k))}else{var l="<table class='scc_priceTable' border='0' cellpadding='0' cellspacing='0'><tbody>";jQuery.each(j,function(a,b){l+="<tr><td class='left'>"+b.currencyLabel+"</td><td class='right'>"+b.price+"</td></tr>"});var m=b.showConfigPop?"<div class='scc_tooltip_settings' >Settings</div>":"";l+="</tbody></table>"+m,d(l,g,b,c[a])}}})}function h(a,b){0!=b.length&&jQuery.each(a,function(a,c){if(-1!==b.indexOf(c)){var d="scc_"+c;localStorage[d]=parseFloat(b[c])}})}function i(a,b){if(void 0===localStorage.scc_lastExchangeRateUpdate)return SCC_DEBUG&&console.log(localStorage.scc_lastExchangeRateUpdate+" Totally New"),!1;var c=new Date,d=c.valueOf()-parseInt(localStorage.scc_lastExchangeRateUpdate);if(d>1e3*60*b)return SCC_DEBUG&&console.log("Cache expired"),!1;var e=!0;return jQuery.each(a,function(a,b){var c="scc_"+b;c in localStorage||(e=!1)}),e}function k(a,b){jQuery.each(a,function(a,c){lsIndex="scc_"+c,localStorage[lsIndex]=b[a]}),localStorage.scc_lastExchangeRateUpdate=(new Date).valueOf()}function l(a){var b=[];return a.query.results.rate instanceof Array?jQuery.each(a.query.results.rate,function(a,c){b.push(parseFloat(c.Rate))}):b.push(parseFloat(a.query.results.rate.Rate)),b}function m(a,b,c,d){h(a,b.exchangeRateOverrides),g(c,b,d),b.tooltipAlwaysOpen&&(jQuery("body").tooltipster("show"),SCC_DEBUG&&console.log("All tooltips shown")),b.onFinish()}function n(a,b,c,d,e){if(i(c,b.exchangeRateUpdateInterval))SCC_DEBUG&&console.log("Local Rates Valid"),m(c,b,d,e);else{SCC_DEBUG&&console.log("Local Rates Invalid, Fetching...");var f="http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20yahoo.finance.xchange%20where%20pair%20in%20("+a+")&format=json&env=store://datatables.org/alltableswithkeys&callback=";jQuery.get(f,function(a){SCC_DEBUG&&console.log("Yahoo Fetch Complete."),rates=l(a),k(c,rates),m(c,b,d,e)})}}function o(a,b,c,d){var e=[];return jQuery.each(d,function(a,d){var f=p(b.targets,c,d.baseCurrency,b.hideTooltipToNativeVisitor,b);d.validTargets=f,jQuery.each(f,function(a,b){-1===jQuery.inArray(d.baseCurrency+b,e)&&(e.push(d.baseCurrency+b),e.push(b+d.baseCurrency))})}),SCC_DEBUG&&(console.log("All Conversion Codes: "),console.log(e)),e}function p(a,b,c,d,e){var f=[];return jQuery.each(a,function(a,g){"autodetect"===g?b in countryMap?(d&&c===countryMap[b].currencyCode?SCC_DEBUG&&console.log("Visitor is native... Tooltip not shown"):f.push(countryMap[b].currencyCode),SCC_DEBUG&&console.log("Currency detected : "+countryMap[b].currencyCode)):e.showFallbackOnAutodetectFailure?(f.push(e.autodetectFallbackCurrency),console.log("Failed to autodetect currency. Fallbacking to "+e.autodetectFallbackCurrency)):console.log("Failed to autodetect currency"):g in currencyMap?-1==jQuery.inArray(g,f)&&f.push(g):console.log('"'+g+'" is not a valid/supported currency code. See docs to get a list of supported currency codes')}),f}function q(a,b,c,d){a in countryMap&&(jQuery.scc_currencyCode=countryMap[a].currencyCode);var e=o(c,b,a,d);if(e.length>0){var f="";jQuery.each(e,function(a,b){0!==a&&(f+=","),f+="%22"+b+"%22"}),n(f,b,e,c,d)}}function r(a,b){var c=[],d=["animationDuration","baseCurrency","replaceOriginalPrice","tooltipAnimation","tooltipPosition","tooltipTheme","triggerElement","offsetX","offsetY"];return jQuery.each(b,function(b,e){var f=jQuery(e),g=[];jQuery.each(d,function(a,b){f.attr("data-scc-"+b)&&(g[b]=f.data("scc-"+b.toLowerCase()))});var h={};jQuery.extend(!0,h,a,g),c.push(h)}),c}function s(){jQuery.each(localStorage,function(a,b){return"undefined"===b?(localStorage.clear(),SCC_DEBUG&&console.log("LocalStorage found corrupted and cleaned"),!1):void 0})}String.format||(String.format=function(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,c){return"undefined"!=typeof b[c]?b[c]:a})}),Number.prototype.formatMoney=function(a,b,c){var d=this,a=isNaN(a=Math.abs(a))?2:a,c=void 0===c?".":c,b=void 0===b?",":b,e=0>d?"-":"",f=parseInt(d=Math.abs(+d||0).toFixed(a))+"",g=(g=f.length)>3?g%3:0;return e+(g?f.substr(0,g)+b:"")+f.substr(g).replace(/(\d{3})(?=\d)/g,"$1"+b)+(a?c+Math.abs(d-f).toFixed(a).slice(2):"")},[].indexOf||(Array.prototype.indexOf=function(a,b){b=b||0;for(var c=this.length;c>b;){if(this[b]===a)return b;++b}return-1},Array.prototype.lastIndexOf=function(a,b){var c=this.length;for(b=b||c-1,isNaN(b)||b>=c?b=c-1:0>b&&(b+=c);b>-1;){if(this[b]===a)return b;--b}return-1});var c=function(a,b){b.find(".scc_tooltip_settings").click(function(){jQuery(".scc_configpop").bPopup({closeClass:"scc_closeBtn"})})};jQuery.scc_getAllCountries=function(){return countryMap},jQuery.fn.currencyConverter=function(a){var b=this,c=jQuery.extend({animationDuration:300,autodetectFallbackCurrency:"USD",baseCurrency:"USD",decimalPrecision:2,decimalSeperator:".",exchangeRateOverrides:[],exchangeRateUpdateInterval:30,hideTooltipToNativeVisitor:!0,onFinish:function(){},replaceOriginalPrice:!1,showConfigPop:!0,showFallbackOnAutodetectFailure:!0,showFractionWhenBelow:10,showTooltipArrow:!0,targets:["autodetect"],thousandSeperator:",",tooltipAlwaysOpen:!1,tooltipAnimation:"fade",tooltipPosition:"top",tooltipShowDelay:100,tooltipTheme:"shadow",touchFriendly:!0,triggerElement:null,offsetX:0,offsetY:0,gearUrl:"",replacedContentFormat:"[convertedCurrencyCode] [convertedAmount]",debugMode:!1},a);SCC_DEBUG=c.debugMode,s(),SCC_DEBUG&&(console.log("Global settings: "),console.log(c)),c.autodetectFallbackCurrency in currencyMap||(c.autodetectFallbackCurrency="USD",console.log('"'+c.autodetectFallbackCurrency+'" given as autodetectFallbackCurrency is not a valid/supported currency code. Defaulting to "USD"')),jQuery.scc_autodetectFallbackCurrency=c.autodetectFallbackCurrency;var d=r(c,b);if(c.enableByClick=c.touchFriendly&&"ontouchstart"in document.documentElement,void 0===localStorage.scc_countryCode){var e=jQuery.get("http://ipinfo.io/json");e.success(function(a){if(void 0===a.country){SCC_DEBUG&&console.log("Location detection failed in first request, second request init...");var e=jQuery.get("http://api.hostip.info/country.php");e.success(function(a){"XX"===a?(SCC_DEBUG&&console.log("Location detection failed in second request"),q("error",c,b,d)):(SCC_DEBUG&&console.log("Location detection success in second request"),localStorage.scc_countryCode=a,q(a,c,b,d))}),e.error(function(){SCC_DEBUG&&console.log("Location detection failed in second request"),q("error",c,b,d)})}else SCC_DEBUG&&console.log("Location detection success in first request"),localStorage.scc_countryCode=a.country,q(a.country,c,b,d)}),e.error(function(){var g=jQuery.get("http://api.hostip.info/country.php");g.success(function(a){void 0===a?(SCC_DEBUG&&console.log("Location detection failed in second request"),q("error",c,b,d)):(SCC_DEBUG&&console.log("Location detection success in second request"),localStorage.scc_countryCode=a,q(a,c,b,d))}),g.error(function(){SCC_DEBUG&&console.log("Location detection failed in second request"),q("error",c,b,d)})})}else SCC_DEBUG&&console.log("Cached location valid. Proceeding without XHR"),q(localStorage.scc_countryCode,c,b,d);return this}}(jQuery);